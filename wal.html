<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi Wallet Connector</title>
</head>
<body>
    <button id="connectWallet">Connect Wallet</button>
    <p id="walletAddress"></p>

    <script>
        async function connectWallet() {
            const providerOptions = {
                // MetaMask (default)
                injected: {
                    display: {
                        name: "MetaMask",
                        description: "Connect with MetaMask"
                    },
                    package: null
                },

                // WalletConnect (support Binance, Bybit, OKX)
                walletconnect: {
                    package: window.WalletConnectProvider.default,
                    options: {
                        rpc: {
                            56: "https://bsc-dataseed.binance.org/" // Binance Smart Chain
                        },
                        bridge: "https://bridge.walletconnect.org"
                    }
                },

                // Binance Wallet
                "custom-binance": {
                    display: {
                        name: "Binance Wallet",
                        description: "Connect with Binance Chain Wallet",
                        logo: "https://cryptologos.cc/logos/binance-coin-bnb-logo.svg?v=010" // Logo Binance
                    },
                    package: true,
                    connector: async () => {
                        if (window.BinanceChain) {
                            await window.BinanceChain.request({ method: "eth_requestAccounts" });
                            return window.BinanceChain;
                        } else {
                            alert("Binance Wallet not installed");
                            return null;
                        }
                    }
                },

                // OKX Wallet
                "custom-okx": {
                    display: {
                        name: "OKX Wallet",
                        description: "Connect with OKX Wallet",
                        logo: "https://cryptoicons.org/api/icon/okb/64" // Logo OKX
                    },
                    package: true,
                    connector: async () => {
                        if (window.okxwallet) {
                            await window.okxwallet.request({ method: "eth_requestAccounts" });
                            return window.okxwallet;
                        } else {
                            alert("OKX Wallet not installed");
                            return null;
                        }
                    }
                }
            };

            const web3Modal = new window.Web3Modal.default({
                cacheProvider: false,
                providerOptions
            });

            const instance = await web3Modal.connect();
            const provider = new ethers.providers.Web3Provider(instance);
            const signer = provider.getSigner();
            const address = await signer.getAddress();

            document.getElementById("walletAddress").innerText = `Connected: ${address}`;
        }

        document.getElementById("connectWallet").addEventListener("click", connectWallet);
    </script>
</body>
</html>
